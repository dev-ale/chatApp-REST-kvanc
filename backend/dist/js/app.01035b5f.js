(function(e){function t(t){for(var a,c,i=t[0],o=t[1],l=t[2],v=0,m=[];v<i.length;v++)c=i[v],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&m.push(n[c][0]),n[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,i=1;i<r.length;i++){var o=r[i];0!==n[o]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=r[0]))}return e}var a={},n={app:0},s=[];function c(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=a,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(r,a,function(t){return e[t]}.bind(null,a));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=o;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e623"),r("e379"),r("5dc8"),r("37e1");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:"",dark:"",color:e.dynamic}},[r("v-spacer"),r("v-toolbar-title",[e._v("ChatApp REST - kvanc 2020")]),r("v-spacer"),e.serverConnected?r("v-chip",{staticStyle:{"margin-left":"5px"},attrs:{color:"success"},on:{click:function(t){e.snackbar=!0}}},[e._v("10.35.148.180 : 8080")]):e._e(),e.serverConnected?e._e():r("v-chip",{staticStyle:{"margin-left":"5px"},attrs:{color:"error"}},[e._v("10.35.148.180 : 8080")])],1),r("v-content",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:e.dynamic,dark:"",flat:""}},[r("v-toolbar-title",[e._v("Users")]),r("v-spacer"),this.users.length>0?r("div",[e._v(" "+e._s(this.users.length)+" ")]):e._e()],1),r("v-card-text",[r("div",{staticStyle:{"text-align":"center"}},[this.users.length<1&&e.serverConnected?r("p",[e._v("Keine User online")]):e._e(),e.serverConnected?e._e():r("p",[e._v("Keine Verbindung zum Server")])]),e.serverConnected?r("div",[e.loggedIn?e._e():r("v-text-field",{attrs:{label:"Benutzername",outlined:"",dense:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signIn(t)}},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}},[r("template",{slot:"append"},[r("v-btn",{staticStyle:{"margin-bottom":"10px"},attrs:{icon:"",color:"dynamic"},on:{click:e.signIn}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-login-variant")])],1)],1)],2),r("v-list",e._l(e.users,(function(t){return r("v-list-item",{key:t.username},[r("v-icon",[e._v("mdi-account")]),r("span",{staticStyle:{"font-weight":"bold","font-size":"1.2em",cursor:"pointer"}},[e._v(" "+e._s(t.username)+" ")]),!0===e.loggedIn&&e.userName!==t.username&&e.receiver!==t.username?r("v-btn",{staticStyle:{"margin-left":"5px"},attrs:{outlined:"",depressed:"","x-small":"",dark:"",color:"#00695c"},on:{click:function(r){e.receiver=t.username}}},[e._v("Privater Chat")]):e._e(),!0===e.loggedIn&&e.userName!==t.username&&e.receiver===t.username?r("v-btn",{staticStyle:{"margin-left":"5px"},attrs:{depressed:"","x-small":"",dark:"",color:"#00695c"},on:{click:function(t){e.receiver="all"}}},[e._v("Privater Chat")]):e._e(),e.receiver===t.username&&e.userName!==t.username?r("v-btn",{attrs:{depressed:"","x-small":""},on:{click:function(t){e.receiver="all"}}},[e._v("X")]):e._e(),t.username===e.userName?r("v-btn",{staticStyle:{"margin-left":"5px"},attrs:{depressed:"","x-small":"",color:"error"},on:{click:e.signOut}},[e._v("Logout")]):e._e()],1)})),1)],1):e._e()])],1)],1)],1),r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[r("div",{staticStyle:{"text-align":"center"}},[!e.loggedIn&&e.serverConnected?r("p",[e._v("Bitte zuerst einloggen")]):e._e()]),e.loggedIn&&e.serverConnected&&"all"===this.receiver?r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:e.dynamic,dark:"",flat:""}},[r("v-toolbar-title",[e._v("Ã–ffentlicher Chat")]),r("v-spacer")],1),r("v-card-text",[this.filterAll.length<1?r("p",[e._v("Keine Nachrichten")]):e._e(),r("v-list",e._l(e.filterAll,(function(t){return r("v-list-item",{key:t.time},[t.username===e.userName?r("div",[r("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(t.username)+" : ")]),r("v-chip",{staticStyle:{"margin-left":"5px"},attrs:{color:"primary"}},[e._v(" "+e._s(t.message)+" "),r("span",{staticStyle:{"font-size":"0.7em","margin-left":"3px"}},[r("br"),e._v(" "+e._s(t.time))])])],1):"Chatbot"===t.username&&e.chatbotMessages?r("div",[r("v-chip",{staticStyle:{"margin-left":"5px"},attrs:{small:"",color:"lightgrey"}},[e._v(" "+e._s(t.message)+" ")])],1):"all"!==t.receiver&&"Chatbot"!==t.username&&t.username!==e.userName?r("div",[r("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(t.username)+" : ")]),r("v-chip",{staticStyle:{"margin-left":"5px"},attrs:{dark:"",color:"#00695c"}},[e._v(" "+e._s(t.message)+" "),r("span",{staticStyle:{"font-size":"0.7em","margin-left":"3px"}},[r("br"),e._v(" "+e._s(t.time))])])],1):"all"===t.receiver&&"Chatbot"!==t.username&&t.username!==e.userName?r("div",[r("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(t.username)+" : ")]),r("v-chip",{staticStyle:{"margin-left":"5px"},attrs:{color:"success"}},[e._v(" "+e._s(t.message)+" "),r("span",{staticStyle:{"font-size":"0.7em","margin-left":"3px"}},[r("br"),e._v(" "+e._s(t.time))])])],1):e._e()])})),1),r("br"),e.loggedIn?r("v-text-field",{attrs:{color:"primary",label:"Nachricht an: "+this.receiver,dense:"",outlined:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)}},model:{value:e.messageContent,callback:function(t){e.messageContent=t},expression:"messageContent"}},[r("template",{slot:"append"},[0==!this.messageContent.length?r("v-btn",{staticStyle:{"margin-bottom":"10px"},attrs:{icon:"",color:"primary"},on:{click:e.sendMessage}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-send-outline")])],1):e._e()],1)],2):e._e()],1)],1):e._e(),e.loggedIn&&e.serverConnected&&"all"!==this.receiver?r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"#00695c",dark:"",flat:""}},[r("v-toolbar-title",[e._v("Privater Chat mit: "+e._s(this.receiver))]),r("v-spacer")],1),r("v-card-text",[this.filterPrivate.length<1?r("p",[e._v("Keine Nachrichten")]):e._e(),r("v-list",e._l(e.filterPrivate,(function(t){return r("v-list-item",{key:t.time},[t.username===e.userName?r("div",[r("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(t.username)+" : ")]),r("v-chip",{staticStyle:{"margin-left":"5px"},attrs:{color:"primary"}},[e._v(" "+e._s(t.message)+" "),r("span",{staticStyle:{"font-size":"0.7em","margin-left":"3px"}},[r("br"),e._v(" "+e._s(t.time))])])],1):"Chatbot"===t.username&&e.chatbotMessages?r("div",[r("v-chip",{staticStyle:{"margin-left":"5px"},attrs:{small:"",color:"lightgrey"}},[e._v(" "+e._s(t.message)+" ")])],1):"Chatbot"!==t.username&&t.username!==e.userName?r("div",[r("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(t.username)+" : ")]),r("v-chip",{staticStyle:{"margin-left":"5px"},attrs:{color:"success"}},[e._v(" "+e._s(t.message)+" "),r("span",{staticStyle:{"font-size":"0.7em","margin-left":"3px"}},[r("br"),e._v(" "+e._s(t.time))])])],1):e._e()])})),1),r("br"),e.loggedIn?r("v-text-field",{attrs:{color:"primary",label:"Nachricht an: "+this.receiver,dense:"",outlined:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)}},model:{value:e.messageContent,callback:function(t){e.messageContent=t},expression:"messageContent"}},[r("template",{slot:"append"},[0==!this.messageContent.length?r("v-btn",{staticStyle:{"margin-bottom":"10px"},attrs:{icon:"",color:"primary"},on:{click:e.sendMessage}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-send-outline")])],1):e._e()],1)],2):e._e()],1)],1):e._e()],1)],1)],1),r("v-snackbar",{attrs:{color:"success",timeout:3e3,bottom:""},model:{value:e.welcomeSnack,callback:function(t){e.welcomeSnack=t},expression:"welcomeSnack"}},[e._v(" Willkommen im Chat, "),r("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.userName))]),e._v("! "),r("v-btn",{attrs:{color:"black",text:""},on:{click:function(t){e.welcomeSnack=!1}}},[e._v("Close")])],1),r("v-snackbar",{attrs:{color:"error",timeout:3e3,bottom:""},model:{value:e.bybySnack,callback:function(t){e.bybySnack=t},expression:"bybySnack"}},[e._v(" Bis bald! "),r("v-btn",{attrs:{color:"black",text:""},on:{click:function(t){e.bybySnack=!1}}},[e._v("Close")])],1)],1)],1)},s=[],c=(r("99af"),r("4de4"),r("fb6a"),r("d3b7"),r("ac1f"),r("25f0"),r("5319"),r("bf19"),r("2909")),i=(r("96cf"),r("1da1")),o=r("bc3a"),l=r.n(o),u="http://10.35.148.180:8080",v=u+"/api/users",m=u+"/api/messages",g={name:"App",components:{},data:function(){return{users:[],messages:[],userName:"",messageContent:"",loggedIn:!1,serverConnected:!1,chatbotMessages:!0,dynamic:"grey",welcomeSnack:!1,bybySnack:!1,receiver:"all"}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getUsers(),e.getMessages(),e.updateData(5e3);case 3:case"end":return t.stop()}}),t)})))()},computed:{filterAll:function(){var e=this,t=this.messages;return"all"===this.receiver&&(console.log("filter activated: "+this.receiver),t=t.filter((function(t){return"all"===t.receiver||t.receiver===e.userName})),console.log(t)),t},filterPrivate:function(){var e=this,t=this.messages;return"all"!==this.receiver&&(console.log("filter activated: "+this.receiver),t=t.filter((function(t){return t.receiver===e.receiver&&t.username===e.userName||t.receiver===e.userName&&t.username===e.receiver})),console.log(t)),t}},methods:{calcPrivateMessages:function(){var e=this.messages;return e},updateData:function(e){var t=this;setInterval((function(){t.getUsers(),t.loggedIn&&t.getMessages()}),e)},getUsers:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get(v);case 3:r=t.sent,e.users=r.data,e.serverConnected=!0,e.dynamic="#546e7a",t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0),e.serverConnected=!1,e.dynamic="grey";case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getMessages:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get(m);case 3:r=t.sent,e.messages=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},signIn:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.put(v,{username:e.userName});case 3:r=t.sent,e.users=[].concat(Object(c["a"])(e.users),[r.data]),e.loggedIn=!0,e.getUsers(),e.sendChatboxMessage(" hat sich angemeldet"),e.welcomeSnack=!0,"alejandro.garcia"===e.userName&&(e.admin=!0),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},signOut:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e.userName),t.next=4,l.a.delete(v,{data:{username:e.userName}});case 4:e.bybySnack=!0,e.sendChatboxMessage(" hat sich abgemeldet"),e.getUsers(),e.loggedIn=!1,e.userName="",t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},getTime:function(){var e=(new Date).toJSON().slice(11,19).replace(/-/g,"/");return e.toString()},sendMessage:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.post(m,{username:e.userName,message:e.messageContent,time:e.getTime(),receiver:e.receiver});case 3:r=t.sent,e.messages=[].concat(Object(c["a"])(e.messages),[r.data]),e.messageContent="",e.getMessages(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},sendChatboxMessage:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.post(m,{username:"Chatbot",message:t.userName+e,time:t.getTime(),receiver:"all"});case 3:a=r.sent,t.messages=[].concat(Object(c["a"])(t.messages),[a.data]),t.getMessages(),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.error(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},changeChatbotStatus:function(){this.chatbotMessages=!this.chatbotMessages,this.getMessages(),console.log(this.chatbotMessages)}}},p=g,d=r("2877"),f=r("6544"),h=r.n(f),b=r("7496"),_=r("40dc"),y=r("8336"),k=r("b0af"),x=r("99d9"),C=r("cc20"),S=r("62ad"),w=r("a523"),N=r("a75b"),O=r("132d"),M=r("8860"),j=r("da13"),V=r("0fd9b"),I=r("2db4"),R=r("2fa4"),P=r("8654"),T=r("71d9"),z=r("2a7f"),A=Object(d["a"])(p,n,s,!1,null,null,null),U=A.exports;h()(A,{VApp:b["a"],VAppBar:_["a"],VBtn:y["a"],VCard:k["a"],VCardText:x["a"],VChip:C["a"],VCol:S["a"],VContainer:w["a"],VContent:N["a"],VIcon:O["a"],VList:M["a"],VListItem:j["a"],VRow:V["a"],VSnackbar:I["a"],VSpacer:R["a"],VTextField:P["a"],VToolbar:T["a"],VToolbarTitle:z["a"]});var B=r("f309");a["a"].use(B["a"]);var E=new B["a"]({});a["a"].config.productionTip=!1,new a["a"]({vuetify:E,render:function(e){return e(U)}}).$mount("#app")}});
//# sourceMappingURL=app.01035b5f.js.map